

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>phypno.source.linear module &mdash; phypno 20.07 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="phypno 20.07 documentation" href="../index.html"/>
        <link rel="up" title="phypno.source package" href="phypno.source.html"/>
        <link rel="next" title="phypno.source.morph module" href="phypno.source.morph.html"/>
        <link rel="prev" title="phypno.source package" href="phypno.source.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> phypno
          

          
          </a>

          
            
            
              <div class="version">
                20.07
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Phypno</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="phypno.html">Modules, classes, functions</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="phypno.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="phypno.attr.html">phypno.attr package</a></li>
<li class="toctree-l3"><a class="reference internal" href="phypno.detect.html">phypno.detect package</a></li>
<li class="toctree-l3"><a class="reference internal" href="phypno.ioeeg.html">phypno.ioeeg package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="phypno.source.html">phypno.source package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="phypno.source.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="phypno.trans.html">phypno.trans package</a></li>
<li class="toctree-l3"><a class="reference internal" href="phypno.utils.html">phypno.utils package</a></li>
<li class="toctree-l3"><a class="reference internal" href="phypno.widgets.html">phypno.widgets package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="phypno.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gui/index.html">Graphical User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">TODO</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">phypno</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="phypno.html">phypno package</a> &raquo;</li>
        
          <li><a href="phypno.source.html">phypno.source package</a> &raquo;</li>
        
      <li>phypno.source.linear module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/phypno.source.linear.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-phypno.source.linear">
<span id="phypno-source-linear-module"></span><h1>phypno.source.linear module<a class="headerlink" href="#module-phypno.source.linear" title="Permalink to this headline">¶</a></h1>
<p>Module to convert from electrode to sources using linear matrices</p>
<dl class="class">
<dt id="phypno.source.linear.Linear">
<em class="property">class </em><code class="descclassname">phypno.source.linear.</code><code class="descname">Linear</code><span class="sig-paren">(</span><em>surf</em>, <em>chan</em>, <em>threshold=20</em>, <em>exponent=None</em>, <em>std=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/phypno/source/linear.html#Linear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#phypno.source.linear.Linear" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">both hemispheres</p>
</div>
</dd></dl>

<dl class="function">
<dt id="phypno.source.linear.calc_one_vert_gauss">
<code class="descclassname">phypno.source.linear.</code><code class="descname">calc_one_vert_gauss</code><span class="sig-paren">(</span><em>one_vert</em>, <em>xyz=None</em>, <em>std=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/phypno/source/linear.html#calc_one_vert_gauss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#phypno.source.linear.calc_one_vert_gauss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate how many electrodes influence one vertex, using a Gaussian
function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>one_vert</strong> (<em>ndarray</em>) – vector of xyz position of a vertex</li>
<li><strong>xyz</strong> (<em>ndarray</em>) – nChan X 3 with the position of all the channels</li>
<li><strong>std</strong> (<em>float</em>) – distance in mm of the Gaussian kernel</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>ndarray</em> – one vector with values for one vertex</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="phypno.source.linear.calc_one_vert_inverse">
<code class="descclassname">phypno.source.linear.</code><code class="descname">calc_one_vert_inverse</code><span class="sig-paren">(</span><em>one_vert</em>, <em>xyz=None</em>, <em>exponent=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/phypno/source/linear.html#calc_one_vert_inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#phypno.source.linear.calc_one_vert_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate how many electrodes influence one vertex, using the inverse
function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>one_vert</strong> (<em>ndarray</em>) – vector of xyz position of a vertex</li>
<li><strong>xyz</strong> (<em>ndarray</em>) – nChan X 3 with the position of all the channels</li>
<li><strong>exponent</strong> (<em>int</em>) – inverse law (1-&gt; direct inverse, 2-&gt; inverse square, 3-&gt; inverse cube)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>ndarray</em> – one vector with values for one vertex</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="phypno.source.linear.calc_xyz2surf">
<code class="descclassname">phypno.source.linear.</code><code class="descname">calc_xyz2surf</code><span class="sig-paren">(</span><em>surf</em>, <em>xyz</em>, <em>threshold=20</em>, <em>exponent=None</em>, <em>std=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/phypno/source/linear.html#calc_xyz2surf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#phypno.source.linear.calc_xyz2surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate transformation matrix from xyz values to vertices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>surf</strong> (<em>instance of phypno.attr.Surf</em>) – the surface of only one hemisphere.</li>
<li><strong>xyz</strong> (<em>numpy.ndarray</em>) – nChan x 3 matrix, with the locations in x, y, z.</li>
<li><strong>std</strong> (<em>float</em>) – distance in mm of the Gaussian kernel</li>
<li><strong>exponent</strong> (<em>int</em>) – inverse law (1-&gt; direct inverse, 2-&gt; inverse square, 3-&gt; inverse cube)</li>
<li><strong>threshold</strong> (<em>float</em>) – distance in mm for a vertex to pick up electrode activity (if distance
is above the threshold, one electrode does not affect a vertex).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>numpy.ndarray</em> – nVertices X xyz.shape[0] matrix</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function is a helper when plotting onto brain surface, by creating a
transformation matrix from the values in space (f.e. at each electrode) to
the position of the vertices (used to show the brain surface).</p>
<p>There are many ways to move from values to vertices. The crucial parameter
is the function at which activity decreases in respect to the distance. You
can have an inverse relationship by specifying ‘exponent’. If ‘exponent’ is
2, then the activity will decrease as inverse square of the distance. The
function can be a Gaussian. With std, you specify the width of the gaussian
kernel in mm.
For each vertex, it uses a threshold based on the distance (‘threshold’
value, in mm). Finally, it normalizes the contribution of all the channels
to 1, so that the sum of the coefficients for each vertex is 1.</p>
<p>You can also create your own matrix (and skip calc_xyz2surf altogether) and
pass it as attribute to the main figure.
Because it’s a loop over all the vertices, this function is pretty slow,
but if you calculate it once, you can reuse it.
We take advantage of multiprocessing, which speeds it up considerably.</p>
</dd></dl>

<dl class="function">
<dt id="phypno.source.linear.gauss">
<code class="descclassname">phypno.source.linear.</code><code class="descname">gauss</code><span class="sig-paren">(</span><em>x</em>, <em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#phypno.source.linear.gauss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="phypno.source.morph.html" class="btn btn-neutral float-right" title="phypno.source.morph module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="phypno.source.html" class="btn btn-neutral" title="phypno.source package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2017, Gio Piantoni.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'20.07',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>